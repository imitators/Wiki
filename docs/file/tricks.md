# tricks

这里整理一些在文件分析过程中通用的技巧。

## 常用分析

### binwalk

binwalk 分析 magic number 来得出文件的类型。

```
binwalk aa.xxx
dd if=aa.xxx of=bb.xxx skip=[DECIMAL] bs=1
```

## 出题思路

### +协议纠错

通过**文件传输协议的纠错机制**，让两张或者多张图片的传输发生错误，导致无法直接提取现成的图片。

通过分析出错原因，手动拼接数据包中提取的内容，得到图片。

需要知识：计算机网络，传输协议，传输协议纠错机制

### +幻数修改

> 专治各种只会用工具

两张图片叠放，第二张只修改 magic number 导致检测失败。

或者改成别的东西的 magic number。

### 攻击流量分析

比赛中的多台虚拟机相互攻击，出题者扮演举办方进行流量审查，需要尽可能多地捕获参赛战队的 payload。

或者改成有人利用 0day 漏洞攻击比赛环境，需要找出攻击者。

### 赛制的思考

能不能模仿 ACM，选手通过写 waf 来抵挡设置好的 payload 攻击。

### +无线信号分析

> 线下的团队题

给出一个 SDR 的源码，通过无线信号改变频率来传递解码密钥。

同时发射无线电信号，通过捕获信号解码来完成解题。

需要捕获全频率的信号，从而编写解码脚本。

### 协议校验位

校验位隐藏数据或是密钥