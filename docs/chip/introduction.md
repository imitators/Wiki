# 芯片

常见 IOT 设别都是采用嵌入式 Linux 系统开发。

芯片分析的目的之一是提取固件。

固件一般存储在 ROM (Read-Only Memory, 只读存储器) 中。

常见芯片种类：

- ROM
- PROM
- EPROM
- EEPROM
- FLASH-ROM

大多数 iot 设备采用 flash 芯片。

### 印字

印字标识了芯片信息

### FLASH 芯片

FLASH 芯片是单电压芯片，类似于 EEPROM 芯片。

falsh 芯片常用技术方式为 PI NorFlash，例如 S25FL128、MX25L1605、W25Q64 等芯片都采用这种方式。

## 编程器

编程器又称烧录器、写入器、写码器，用于对 IC 芯片的读写，编程和烧录。

## 设备拆解

需要胆大心细。

维修组合套装：开启螺丝孔（需要注意螺丝孔是否藏于贴纸、橡胶垫后，可以用手感受空洞）

撬片和一字螺丝刀：开启卡榫结构

PCB 夹：拔出排线

热风枪和焊台：拆焊各类元器件和芯片

BGA 焊台：拆焊 BGA 封装的芯片

## 固件分析

固件 (Firmware) 是写入 EROM 或 EEPROM 中的程序。

修改固件一般是提取固件之后，逆向或者解包 BIN/HEX 文件获得的实际代码，修改关键代码后打包刷回芯片中，使硬件执行修改后的固件。

### 固件提取

两种方法：

1. 导线连接到芯片引脚，飞线连接编程器。

2. 芯片拆焊下来，通过烧录座编程器离线读取固件。

    热风枪吹时，周围其他的元件用铝箔或者锡箔适当保护。

    烧录时，芯片引脚一定要对上。

    读取完成后，用点焊法焊上芯片。

### JTAG 提取固件

热风枪拆下芯片，烧录座连接。

打开 J-Flash 客户端，设置好参数并读取。

### 固件逆向

#### 单片机

相对于嵌入式设备的逆向，单片机的逆向纯属于体力活，需要根据芯片定义的每个 IO 口，配合电路和外部模块进行分析、调试。逐步确定每一个分支的功能，逻辑等，是非常繁琐和复杂的工作。

##### MSP430

